<template lang="html">
  <div>
    <!-- recommendation -->
    <div class="home-recommend container position-relative py-5 mb-5">
      <div class="line"></div>
      <div class="recommend-product row align-items-center pb-4 mb-4">
        <div class="col-4">
          <div class="d-flex mb-4">
            <h3 class="title">珍珠系列</h3>
            <span class="fs-5 opacity-50">Pearl</span>
          </div>
          <p class="mb-4">
            珍珠是從一粒細沙開始的，<br />
            所有的美好都值得慢慢等待，<br />
            自然珍珠光澤，閃耀自然光輝，<br />
            完美襯托出時尚品味與典雅氣質。
          </p>
          <router-link to="#" class="btn btn-outline-light">前往</router-link>
        </div>
        <div class="img-container col-5">
          <div class="img-bg position-relative py-5">
            <div class="bg-mask"></div>
            <img class="position-relative w-80 rounded-3 shadow"
              src="https://storage.googleapis.com/vue-course-api.appspot.com/chiayu/1625319903781.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=mzk1w6ZKrwnsx%2BLQrmWZX1sD4F8UjExVKwE4%2B2gF8wgsMxWrOlfHp4NP85hnXJTBXB8Nb6uiINoNiSyFMz%2Fdmh2MSY9lU5NnES5rpaPKwHfK8jCiJYb8jMQDjrjPHEMkCl7ZuNxb5VwWK%2Bsh5zKKBkuozzZHdaczYTl1LL6dhROv6%2FOpOpJkO%2Bo%2FwMjHbNY6CGR0D5KkxhvVBCHZww7WUcmrxGoqclQ2zHIkhnn4IExRoG9iM3zK%2BYhg6d0H3kkHj9kSu2HWuogEK9JJ71zSsbxoaukNS3brjn%2F4Tr9LusX9laVE8Dy434Aq38%2FKsYY4flZk6m650G4ZkKA45eZ0cA%3D%3D"
              alt="珍珠系列" />
          </div>
        </div>
      </div>
      <div class="recommend-product-reverse row align-items-center pb-4 mb-4">
        <div class="img-container col-5">
          <div class="img-bg position-relative py-5">
            <div class="bg-mask"></div>
            <img class="position-relative w-80 rounded-3 shadow"
              src="https://storage.googleapis.com/vue-course-api.appspot.com/chiayu/1625319903781.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=mzk1w6ZKrwnsx%2BLQrmWZX1sD4F8UjExVKwE4%2B2gF8wgsMxWrOlfHp4NP85hnXJTBXB8Nb6uiINoNiSyFMz%2Fdmh2MSY9lU5NnES5rpaPKwHfK8jCiJYb8jMQDjrjPHEMkCl7ZuNxb5VwWK%2Bsh5zKKBkuozzZHdaczYTl1LL6dhROv6%2FOpOpJkO%2Bo%2FwMjHbNY6CGR0D5KkxhvVBCHZww7WUcmrxGoqclQ2zHIkhnn4IExRoG9iM3zK%2BYhg6d0H3kkHj9kSu2HWuogEK9JJ71zSsbxoaukNS3brjn%2F4Tr9LusX9laVE8Dy434Aq38%2FKsYY4flZk6m650G4ZkKA45eZ0cA%3D%3D"
              alt="珍珠系列" />
          </div>
        </div>
        <div class="text-container col-4">
          <div class="d-flex mb-4">
            <h3 class="title">珍珠系列</h3>
            <span class="fs-5 opacity-50">Pearl</span>
          </div>
          <p class="mb-4">
            珍珠是從一粒細沙開始的，<br />
            所有的美好都值得慢慢等待，<br />
            自然珍珠光澤，閃耀自然光輝，<br />
            完美襯托出時尚品味與典雅氣質。
          </p>
          <router-link to="#" class="btn btn-outline-light">前往</router-link>
        </div>
      </div>
      <div class="recommend-product row align-items-center">
        <div class="col-4">
          <div class="d-flex mb-4">
            <h3 class="title">珍珠系列</h3>
            <span class="fs-5 opacity-50">Pearl</span>
          </div>
          <p class="mb-4">
            珍珠是從一粒細沙開始的，<br />
            所有的美好都值得慢慢等待，<br />
            自然珍珠光澤，閃耀自然光輝，<br />
            完美襯托出時尚品味與典雅氣質。
          </p>
          <router-link to="#" class="btn btn-outline-light">前往</router-link>
        </div>
        <div class="img-container col-5">
          <div class="img-bg position-relative py-5">
            <div class="bg-mask"></div>
            <img class="position-relative w-80 rounded-3 shadow"
              src="https://storage.googleapis.com/vue-course-api.appspot.com/chiayu/1625319903781.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=mzk1w6ZKrwnsx%2BLQrmWZX1sD4F8UjExVKwE4%2B2gF8wgsMxWrOlfHp4NP85hnXJTBXB8Nb6uiINoNiSyFMz%2Fdmh2MSY9lU5NnES5rpaPKwHfK8jCiJYb8jMQDjrjPHEMkCl7ZuNxb5VwWK%2Bsh5zKKBkuozzZHdaczYTl1LL6dhROv6%2FOpOpJkO%2Bo%2FwMjHbNY6CGR0D5KkxhvVBCHZww7WUcmrxGoqclQ2zHIkhnn4IExRoG9iM3zK%2BYhg6d0H3kkHj9kSu2HWuogEK9JJ71zSsbxoaukNS3brjn%2F4Tr9LusX9laVE8Dy434Aq38%2FKsYY4flZk6m650G4ZkKA45eZ0cA%3D%3D"
              alt="珍珠系列" />
          </div>
        </div>
      </div>
    </div>
    <!-- swipper -->
    <div class="home-product-swiper container mb-5">
      <div class="d-flex mb-5">
        <h3 class="title">限時特價</h3>
        <p class="opacity-50 fs-5">On Sale</p>
      </div>
      <swiper-container :pagination="{ clickable: true }" :slides-per-view="3" :space-between="24">
        <swiper-slide v-for="item in products" :key="item.id">
          <div class="product-item">
            <div class="product-tag">Hot Issue</div>
            <router-link class="product-img" :to="`/product/${item.id}`">
              <img :src="item.imageUrl" :alt="item.title" />
            </router-link>
            <div class="d-flex align-items-center justify-content-between
              border-top border-light mt-3 pt-2">
              <div>
                <router-link :to="`/product/${item.id}`">
                  <p class="mb-2">{{ item.title }}</p>
                </router-link>
                <p class="m-0">
                  NT${{ item.price }}
                  <span class="text-light text-decoration-line-through ms-2">
                    NT${{ item.origin_price }}
                  </span>
                </p>
              </div>
              <div class="d-flex align-items-center">
                <a href="#" class="border rounded-circle p-2 icon-hover me-2">
                  <span class="material-icons"> favorite </span>
                </a>
                <a href="#" class="border rounded-circle p-2 icon-hover">
                  <span class="material-icons"> shopping_cart </span>
                </a>
              </div>
            </div>
          </div>
        </swiper-slide>
      </swiper-container>
    </div>
    <!-- category -->
    <div class="home-product-category container mb-5">
      <div class="d-flex align-items-center mb-5">
        <h3 class="title">商品專區</h3>
        <p class="opacity-50 fs-5">Products</p>
      </div>
      <div class="row row-cols-3">
        <div class="">
          <a href="#" @click.prevent="goToCategory('戒指')" class="bg-topic mb-4">
            <img class="position-absolute w-100 top-0 rounded-3"
            src="/images/topic-ring.jpg" alt="戒指" />
            <div class="bg-topic-mask rounded-3"></div>
            <p class="fs-4 position-absolute">戒指</p>
          </a>
          <a href="#" @click.prevent="goToCategory('手錶')" class="bg-topic rounded-3">
            <img class="position-absolute w-100 top-0 rounded-3"
            src="/images/topic-watch.jpg" alt="手錶" />
            <div class="bg-topic-mask rounded-3"></div>
            <p class="fs-4 position-absolute">手錶</p>
          </a>
        </div>
        <div class="">
          <a href="#" @click.prevent="goToCategory('項鍊')"
          class="bg-topic bg-topic-necklace rounded-3">
            <img class="position-absolute top-0 w-100 rounded-3"
            src="/images/topic-necklace.jpg" alt="項鍊" />
            <div class="bg-topic-mask rounded-3"></div>
            <p class="fs-4 position-absolute">項鍊</p>
          </a>
        </div>
        <div class="">
          <a href="#" @click.prevent="goToCategory('耳環')" class="bg-topic rounded-3 mb-4">
            <img class="position-absolute top-0 w-100 rounded-3"
            src="/images/topic-earring.jpg" alt="耳環" />
            <div class="bg-topic-mask rounded-3"></div>
            <p class="fs-4 position-absolute">耳環</p>
          </a>
          <a href="#" @click.prevent="goToCategory('手鍊')" class="bg-topic rounded-3">
            <img class="position-absolute top-0 w-100 rounded-3"
            src="/images/topic-bracelet.jpg" alt="手鍊" />
            <div class="bg-topic-mask rounded-3"></div>
            <p class="fs-4 position-absolute">手鍊</p>
          </a>
        </div>
      </div>
    </div>
    <!-- about -->
    <div class="home-about container mb-5">
      <div class="d-flex mb-5">
        <h3 class="title">關於品牌</h3>
        <p class="opacity-50 fs-5">About Us</p>
      </div>
      <div class="about-content row row-cols-2 align-items-center pb-5">
        <div class="position-relative d-flex flex-column">
          <h1 class="about-title font-design mb-5">RingRing</h1>
          <p class="lh-lg letter-spacing-1">
            我們的目標是提供平價但不平凡的飾品，<br />
            讓女孩們追求漂亮的道路變得簡單，<br />
            Ring不僅代表著飾品也代表著環，<br />願你的美麗與RingRing環環相扣。
          </p>
          <div class="home-ellipse">
            <svg viewBox="0 0 340 200" height="200">
              <ellipse fill="none" stroke="#fff" stroke-width="1" stroke-dasharray="2"
              cx="160" cy="100" rx="160" ry="70"
                transform="rotate(-15,150,80)" />
            </svg>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <img class="rounded-3 about-img"
            src="https://storage.googleapis.com/vue-course-api.appspot.com/chiayu/1625342978859.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=DdnzFv7qNR1mc288VJSaHBzzcPSAHPygNkPgzgtcHizFyWYvHIjdClYNz9ihNEyRf7PHOoCgTVc%2FzxZ4wi9IK7T%2BfwULMeEJUfEp5yBWY%2FTqiPNnKZOBYFHhWGDWS8RAEDeb%2FD%2FcB4OW9FVpdH4Bjn7s58B222eCVmB7ZbFD6sNUA6b6CXcq5%2FXV1sSpy4%2FuHY22MFvZmWvUx0PZI60LcOMOnqOEvfm1dlNTrncsEbznLNzGuU7XT2Z0EPoTdGfw%2FgJYypKhCpVgBSoUMlW0rdpuJH3u7wSYd96ryzw8AnU%2BuaylW115DFXNdFMArhvJLXVbT68Fz0NOic3cvKQQHw%3D%3D"
            alt="RingRing" />
        </div>
      </div>
      <ul class="about-service row row-cols-4 py-5 border-top border-bottom border-light">
        <li class="col border-end border-light">
          <span class="material-icons fs-1 mb-3">
            local_shipping
          </span>
          <h3 class="fs-4 mb-4">交貨快速</h3>
          <p>
            在商品庫存充足下，我們允諾下單三天內會出貨，如您所訂購的商品庫存不足，我們將盡快以電子郵件通知您。
          </p>
        </li>
        <li class="col border-end border-light">
          <span class="material-icons fs-1 mb-3">
            lock
          </span>
          <h3 class="fs-4 mb-4">售後服務</h3>
          <p>為保障買家權益， 所有商品皆享有30日的售後服務。</p>
        </li>
        <li class="col border-end border-light">
          <span class="material-icons fs-1 mb-3">
            question_answer
          </span>
          <h3 class="fs-4 mb-4">客服服務</h3>
          <p>如購買過程及收到商品有任何問題，歡迎聯繫我們， 我們會盡快回覆您。</p>
        </li>
        <li class="col">
          <span class="material-icons fs-1 mb-3">
            card_giftcard
          </span>
          <h3 class="fs-4 mb-4">包裝服務</h3>
          <p>如需額外包裝，可再下訂後通知我們，會有專人協助處理相關事宜。</p>
        </li>
      </ul>
    </div>
  </div>
</template>
<script>
import { register } from 'swiper/element/bundle';
import ProductServices from '@/services/customer/Product.Service';

export default {
  components: {},
  data() {
    return {
      products: [],
    };
  },
  methods: {
    async getProducts(page = 1) {
      const res = await ProductServices.getProductsByPage(page);
      this.products = res.data.products;
    },
  },
  mounted() {
    register();
    this.getProducts();
  },
};
</script>
<style lang="scss">
.line {
  position: absolute;
  width: 2px;
  height: 100%;
  background-color: #fff;
  opacity: 0.4;
  left: calc(50% - 1px);
  top: 0;
}

.home-recommend {

  .img-bg {
    background-image: url("https://storage.googleapis.com/vue-course-api.appspot.com/chiayu/1625319903781.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=mzk1w6ZKrwnsx%2BLQrmWZX1sD4F8UjExVKwE4%2B2gF8wgsMxWrOlfHp4NP85hnXJTBXB8Nb6uiINoNiSyFMz%2Fdmh2MSY9lU5NnES5rpaPKwHfK8jCiJYb8jMQDjrjPHEMkCl7ZuNxb5VwWK%2Bsh5zKKBkuozzZHdaczYTl1LL6dhROv6%2FOpOpJkO%2Bo%2FwMjHbNY6CGR0D5KkxhvVBCHZww7WUcmrxGoqclQ2zHIkhnn4IExRoG9iM3zK%2BYhg6d0H3kkHj9kSu2HWuogEK9JJ71zSsbxoaukNS3brjn%2F4Tr9LusX9laVE8Dy434Aq38%2FKsYY4flZk6m650G4ZkKA45eZ0cA%3D%3D");
    background-size: cover;
    background-attachment: fixed;
    background-position: center;
  }

  .bg-mask {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    top: 0;
    left: 0;
    backdrop-filter: blur(2px);
  }

  .recommend-product-reverse {
    img {
      margin-left: 38%;
    }

    .text-container {
      margin-left: 25%;
    }
  }

  .recommend-product {
    .img-container {
      margin-left: 25%;
    }

    img {
      margin-left: -33.3%;
    }
  }
}

.home-product-swiper {

  .product-item {
    position: relative;
    text-align: left;
    transform: scale(0.95);
    transition: all 0.5s;

    .product-tag {
      position: absolute;
      background: black;
      color: #fff;
      padding: 4px 12px;
      top: -12px;
      right: -12px;
      font-size: 16px;
      z-index: 1;
    }

    .product-img {
      display: block;
      border-radius: 10px;
      overflow: hidden;
      height: 338px;

      img {
        width: 100%;
        height: 100%;
        border-radius: 10px;
        transition: all 0.5s;
      }

      &:hover {
        img {
          transform: scale(1.1) rotate(5deg);
        }
      }
    }

    .icon-hover {
      &:hover {
        background-color: #fff;
        color: #bf7f5a;
      }
    }
  }

  swiper-container::part(pagination) {
    position: static;
    margin-top: 15px;
  }

  swiper-container::part(bullet) {
    background-color: rgba(#fff, 0.8) !important;
    margin: 0 5px;
  }

  swiper-container::part(bullet-active) {
    background-color: rgba(#fff, 0.8) !important;
    margin: 0 5px;
  }
}

.home-product-category {

  .bg-topic {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 300px;
    transition: all 0.5s;
    border-radius: 8px;
    overflow: hidden;

    p {
      letter-spacing: 2px;
      transition: all 0.5s;
      bottom: 28px;
      right: 60px;
      opacity: 0;
      color: #fff;
    }

    img {
      transition: all 0.5s;
    }

    &:hover {
      .bg-topic-mask {
        width: calc(100% - 16px);
        height: calc(100% - 16px);
        background-color: rgba(0, 0, 0, 0.3);
      }

      p {
        bottom: 28px;
        right: 36px;
        opacity: 1;
        color: #fff;
      }

      img {
        transform: scale(1.05);
      }
    }
  }

  .bg-topic-necklace {
    height: 624px;

    img {
      object-position: bottom;
    }
  }

  .bg-topic-mask {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid rgba(#fff, 0.7);
    transition: all 0.5s;
    width: calc(100% - 10px);
    height: calc(100% - 10px);
    background-color: rgba(0, 0, 0, 0.1);
  }
}

.home-about {

  .about-content{
    .font-design {
      font-family: 'Dancing Script', cursive;
    }

    .about-title{
      font-size: 72px;
    }

    .home-ellipse {
      position: absolute;
      left: 30%;
      top: 50%;
      opacity: 0.5;

      ellipse {
        stroke-dasharray: 4;
        animation: dash 5s linear infinite;
      }
    }
  }

  .about-service{
    margin: 0 1px;
  }
}
</style>
